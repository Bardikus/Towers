<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomize();

depth        = -10
unitSpawnCD  = 20
canSpawnUnit = true
baseHP       = 100

gameTimer    = 60 * 30
gameOver     = false
attackersWon = false
defendersWon = false

idd          = 0

gold_player1 = 100
gold_player2 = 150


cursor_sprite = spr_cursor_attacker

//create cursors
instance_create(x, y, obj_cursor_attacker)
instance_create(x + 50, y + 50, obj_cursor_defender)

//Player 1 attack units
with (instance_create(x + 10, y + 300, obj_button_build)) 
{
    spr_name    = spr_unit_1
    obj_Created = obj_unit_1
    unit_name   = "DOG UNIT"
    unit_cost   = 50
}
with (instance_create(x + 10, y + 500, obj_button_build))
{
    spr_name    = spr_unit_2
    obj_Created = obj_unit_2
    unit_name   = "CAT UNIT"
    unit_cost   = 150
}
with (instance_create(x + 10, y + 700, obj_button_build))
{
    spr_name    = spr_unit_3
    obj_Created = obj_unit_3
    unit_name   = "FROG UNIT"
    unit_cost   = 100
}

//Player 2 defense units
with (instance_create(x + 1450, y + 300, obj_button_build))
{
    spr_name     = spr_tower_01
    obj_Created  = obj_tower_1
    unit_name    = "FIRE TOWER"
    unit_cost    = 1000
}
with (instance_create(x + 1450, y + 500, obj_button_build))
{
    spr_name     = spr_tower_02
    obj_Created  = obj_tower_2
    unit_name    = "WATER TOWER"
    unit_cost    = 300
}
with (instance_create(x + 1450, y + 700, obj_button_build))
{
    spr_name     = spr_tower_03
    obj_Created  = obj_tower_3
    unit_name    = "LEAF TOWER"
    unit_cost    = 50
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>canSpawnUnit = true
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (mouse_check_button(mb_left) &amp; canSpawnUnit == true)
{
    canSpawnUnit = false
    alarm[0]     = unitSpawnCD
    instance_create(mouse_x, mouse_y, obj_cursor_attacker.objectSelection)
}

if (collision_point( mouse_x, mouse_y, obj_tower_slot, 0, 0 ))
{
    idd = collision_point( mouse_x, mouse_y, obj_tower_slot, 0, 0 );
    if (mouse_check_button(mb_right) &amp;&amp; idd.slotOccupied == false)
    {
        instance_create(idd.x, idd.y, obj_tower)
        idd.slotOccupied = true
    }
}

//TIME DEPLETE
gameTimer -= 1


//CHECK FOR WIN CONDITIONS
if (gameTimer &lt;= 0 &amp;&amp; baseHP &gt; 1)
{
   defendersWon = true
}

if (baseHP &lt;= 0 &amp;&amp; defendersWon == false)
{
   attackersWon = true
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Draw player icons backgrounds
draw_sprite(spr_player_icon_bck, 0, x, y)
draw_sprite(spr_player_icon_bck, 0, x + 1440, y)

//Draw AVATARS
draw_sprite(spr_player_1, 0, x + 80, y + 70)
draw_sprite(spr_player_2, 0, x + 1520, y + 70)

//Draw player roles
draw_set_color(c_black)
draw_text(x + 50,   y + 130, "PLAYER 1")
draw_text(x + 1480, y + 130, "PLAYER 2")

//Draw GOLD
draw_set_color(c_white)
    //p1
    draw_sprite(spr_gold, 0, x + 50, y + 215)
    draw_text(x + 100, y + 205, string(gold_player1))
    //p2
    draw_sprite(spr_gold, 0, x + 1475, y + 215)
    draw_text(x + 1520, y + 205, string(gold_player2))

//Draw HP player 2
draw_set_color(c_white)
draw_sprite(spr_heart, 0, x + 1460, y + 265)
draw_text(x + 1520, y + 270, string(baseHP))


//DRAW TIME
draw_set_color(c_black)
draw_text(x, y - 50, "TIME: " + string(gameTimer/60))

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_colour(c_white)
depth = 10
draw_set_alpha(0.3)

//spawn zone 01 paths
draw_path(path_01, x, y, true);
draw_path(path_02, x, y, true);
draw_path(path_03, x, y, true);
//spawn zone 02 paths
draw_path(path_04, x, y, true);
draw_path(path_05, x, y, true);
draw_path(path_06, x, y, true);

draw_set_alpha(1)

//DEBUG DRAW
/*
draw_set_color(c_white)
draw_text( 900, 500, "DW:" + string(defendersWon))
draw_text( 900, 600, "AW:" + string(attackersWon))
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
